<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" type="text/css" href="jquery.mobile-1.4.5.css"/>
<script type="text/javascript" src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script type="text/javascript" src="jquery.mobile-1.4.5.js"></script>
<title>ONU自动配置系统</title>
</head>
<body>
<!--厂商选择页面 -->
<div data-role="page" id="choicePage">
	<div data-role="header">
		<h1>请选择ONU厂商</h1>
	</div>
	
	<div data-role="content">			
		<a href="#" data-role="button" data-icon="search" id="zxBtn">中兴ONU搜索</a>
		<a href="#" data-role="button" data-icon="search">华为ONU搜索</a>
	</div>
	
	<div data-role="footer">
    	<h4></h4>
	</div>
</div>	

<!--ONU选择页面 -->
<div data-role="page" id="listPage" >

	<div data-role="header">
		<h1>请选择ONU</h1>
	</div>
	
	<div data-role="content">			
		<ul data-role="listview" id="onulist" data-inset="true" data-theme="c">
		</ul>
	</div>
	
	<div data-role="footer">
    	<h4></h4>
	</div>

</div>

<!--ONU确认页面 -->
<div data-role="page" id="ONUinfoPage" >

	<div data-role="header">
		<h1>请选择ONU</h1>
	</div>
	
	<div data-role="content">			
		<ul data-role="listview" id="onulist" data-inset="true" data-theme="c">
		</ul>
	</div>
	
	<div data-role="footer">
    	<h4></h4>
	</div>

</div>
<script type="text/javascript">
$("#zxBtn").bind("click",function(){
	$.post("ZXONUList.action", {"makername": "zte"}, function(res) {
		var resObj = eval("("+res+")");
		for (var id = 0;id<resObj.onuArr.length;id++)
		{			
			$("#onulist")
			.append('<li><a href="ZXONUWrite.action?sn='+resObj.onuArr[id].sn+'&onuinterface='+resObj.onuArr[id].onuinterface+'&ip='+resObj.onuArr[id].ip+'&vlan='+resObj.onuArr[id].vlan+'">'+resObj.onuArr[id].sn+'</a></li>')
			.listview("refresh");
		}		
	});	
	$.mobile.changePage("#listPage");	
});

</script>

</body>

